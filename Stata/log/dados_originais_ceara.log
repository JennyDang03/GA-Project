----------------------------------------
      name:  <unnamed>
       log:  D:\PIX_Matheus\Stata\log\da
> dos_originais_ceara.log
  log type:  text
 opened on:  12 Sep 2022, 11:21:11

. 
. 
. *cap drop temp
. forvalues i = 1/2{
  2.         forvalues j=2/2{
  3.                 forvalues year = 20
> 20/2021 {
  4.                         local meses
>   01 02 03 04 05 06 07 08 09 10 11 12
  5.                         foreach m o
> f local meses {
  6.                                 
.                                 
.                                 if  ~(
> `year'==2022 & `m'>=7) & ~(`year'==202
> 0 & `m'<=10) {
  7.                                    
>      dis `year' `m'
  8.                                    
>      import delimited "$origdata\PIX_M
> UNI_CE_`year'`m'_`i'_`j'.csv", clear
  9.                                    
>      if  ~(`year'==2020 & `m'== 11 & `
> i'==1 & `j'== 1) {
 10.                                    
>                      append using "$dt
> a\dados_originais_ceara.dta"
 11.                                    
>      }       
 12.                                    
>      save "$dta\dados_originais_ceara.
> dta",replace 
 13.                                 }
 14.                                 
.                                 
.                         }
 15.                 }
 16.         }
 17. }
202011
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 47,202 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202012
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 246,892 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20211
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 398,271 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20212
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 754,735 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20213
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 1,195,234 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20214
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 1,610,460 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20215
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 2,811,913 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20216
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 3,568,358 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20217
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 4,013,974 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20218
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 3,427,717 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20219
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 2,881,083 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202110
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 2,976,586 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202111
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 3,090,763 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202112
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 3,549,438 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202011
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 16,118 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202012
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 73,309 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20211
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 118,403 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20212
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 160,553 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20213
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 224,526 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20214
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 271,637 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20215
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 351,733 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20216
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 418,721 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20217
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 510,585 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20218
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 577,099 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20219
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 623,854 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202110
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 677,136 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202111
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 746,680 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202112
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 825,608 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved

. 
end of do-file

. do "C:\Users\depep.matheuscs\AppData\L
> ocal\Temp\4\STD109c_000000.tmp"

. forvalues i = 2/2{
  2.         forvalues j=1/1{
  3.                 forvalues year = 20
> 20/2021 {
  4.                         local meses
>   01 02 03 04 05 06 07 08 09 10 11 12
  5.                         foreach m o
> f local meses {
  6.                                 
.                                 
.                                 if  ~(
> `year '==2022 & `m'>=7) & ~(`year'==20
> 20 & `m'<=10) {
  7.                                    
>      dis `year' `m'
  8.                                    
>      import delimited "$origdata\PIX_M
> UNI_CE_`year'`m'_`i'_`j'.csv", clear
  9.                                    
>      if  ~(`year'==2020 & `m'== 11 & `
> i'==1 & `j'== 1) {
 10.                                    
>                      append using "$dt
> a\dados_originais_ceara.dta"
 11.                                    
>      }       
 12.                                    
>      save "$dta\dados_originais_ceara.
> dta",replace 
 13.                                 }
 14.                                 
.                                 
.                         }
 15.                 }
 16.         }
 17. }
202011
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 42,396 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202012
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 227,783 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20211
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 432,042 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20212
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 642,144 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20213
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 1,059,895 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20214
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 1,472,739 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20215
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 2,116,499 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20216
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 2,692,176 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20217
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 3,457,331 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20218
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 4,109,459 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
20219
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 4,699,289 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202110
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 5,590,379 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202111
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 6,218,414 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved
202112
(encoding automatically selected: ISO-88
> 59-1)
(10 vars, 7,642,649 obs)
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved

. 
end of do-file

. do "C:\Users\depep.matheuscs\AppData\L
> ocal\Temp\4\STD109c_000000.tmp"

. 
. rename laf_dt_liquidacao dia

. replace dia = subinstr(dia,"-","",.)
(361,874,512 real changes made)

. gen dia_stata = daily(dia,"YMD")

. format %td dia_stata

. 
. gen week = wofd(dia_stata)

. format %tw week

. 
. save "$dta\dados_originais_ceara.dta",
> replace
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara.dta saved

. 
end of do-file

. do "C:\Users\depep.matheuscs\AppData\L
> ocal\Temp\4\STD109c_000000.tmp"

. 
. *** Pix de Dentro para Fora
. use "$dta\dados_originais_ceara.dta",r
> eplace

. gen qtd = 1 

. drop if  mun_pag == mun_rec
(219,601,878 observations deleted)

. collapse (sum) valor qtd, by(week mun_
> pag)

. save "$dta\dados_originais_ceara_dentr
> o_fora.dta",replace
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara_dentro_fora.dta
    saved

. 
. 
. *** Pix de Dentro para Dentro 
. use "$dta\dados_originais_ceara.dta",r
> eplace

. gen qtd = 1 

. keep if  mun_pag == mun_rec
(142,272,634 observations deleted)

. collapse (sum) valor qtd, by(week mun_
> pag)

. save "$dta\dados_originais_ceara_dentr
> o_dentro.dta",replace
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara_dentro_dentro.dta
    saved

. 
. 
. *** Pix de Fora para dentro
. use "$dta\dados_originais_ceara.dta",r
> eplace

. gen qtd = 1 

. drop if  mun_pag == mun_rec
(219,601,878 observations deleted)

. collapse (sum) valor qtd, by(week mun_
> rec)

. 
. 
. * Percentage of the population
. 
. *Percentage of the population that alr
> eady had Pix. 
. 
. 
. 
. 
. save "$dta\dados_originais_ceara_fora_
> dentro.dta",replace
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara_fora_dentro.dta
    saved

. 
. 
. 
. 
. 
. 
. *** Primeiro Pix recebido!
. use "$dta\dados_originais_ceara.dta",r
> eplace

. 
. sort pes_nu_cpf_cnpj_recebedor dia_sta
> ta

. by pes_nu_cpf_cnpj_recebedor: gen firs
> t_pix_received=_n

. keep if first_pix_received==1
(353,010,229 observations deleted)

. 
. collapse (sum) first_pix_received valo
> r, by(week mun_rec)

. sort mun_rec week

. 
. save "$dta\dados_originais_ceara_first
> _pix_received.dta",replace
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara_first_pix_received.
    > dta saved

. 
. *** Primeiro Pix mandado!
. use "$dta\dados_originais_ceara.dta",r
> eplace

. 
. sort pes_nu_cpf_cnpj_pagador dia_stata

. by pes_nu_cpf_cnpj_pagador: gen first_
> pix_paid=_n

. keep if first_pix_paid==1
(350,796,227 observations deleted)

. 
. collapse (sum) first_pix_paid valor, b
> y(week mun_pag)

. sort mun_pag week

. 
. save "$dta\dados_originais_ceara_first
> _pix_paid.dta",replace
file
    D:\PIX_Matheus\Stata\dta\dados_ori
    > ginais_ceara_first_pix_paid.dta
    saved

. 
end of do-file

. do "C:\Users\depep.matheuscs\AppData\L
> ocal\Temp\4\STD109c_000000.tmp"

. 
. log close
      name:  <unnamed>
       log:  D:\PIX_Matheus\Stata\log\da
> dos_originais_ceara.log
  log type:  text
 closed on:  12 Sep 2022, 15:30:31
----------------------------------------
